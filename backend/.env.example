# Database
DATABASE_URL="postgresql://postgres:postgres@0.0.0.0:5432/pos_db?schema=public"

# Database Connection Pool (connection_limit will be appended automatically)
DATABASE_POOL_MIN="1"
DATABASE_POOL_MAX="10"
DATABASE_IDLE_TIMEOUT="30000"
DATABASE_CONNECTION_TIMEOUT="10000"

# Redis (for job queue)
REDIS_URL="redis://localhost:6379"

# JWT Authentication
# Tokens are validated against Redis with matching TTL for immediate revocation capability
# Format: 15m (minutes), 1h (hours), 7d (days), etc.
JWT_SECRET="dev-secret-change-in-production"
JWT_EXPIRES_IN="15m"
REFRESH_TOKEN_SECRET="dev-refresh-secret-change-in-production"
REFRESH_TOKEN_EXPIRES_IN="1d"

# CORS
CORS_ORIGIN="http://localhost:5173"
CORS_CREDENTIALS="true"

# Server
PORT="3000"
NODE_ENV="development"

# Logging
LOG_LEVEL="debug"
LOG_REQUEST_BODY="false" # Set to "true" to log request bodies
LOG_RESPONSE_BODY="false" # Set to "true" to log response bodies
LOG_FULL_HEADERS="false" # Set to "true" to log all headers (except sensitive ones)

# Comma-separated list of paths to redact in logs (supports wildcards)
# Examples: "password", "*.token", "requestBody.password", "headers.authorization"
LOG_REDACT_PATHS="headers.authorization,headers.cookie,headers[\"x-api-key\"],headers[\"x-auth-token\"],headers[\"api-key\"],headers[\"access-token\"],requestHeaders.authorization,requestHeaders.cookie,requestHeaders[\"x-api-key\"],requestHeaders[\"x-auth-token\"],requestHeaders[\"api-key\"],requestHeaders[\"access-token\"],responseHeaders.authorization,responseHeaders[\"set-cookie\"],*.password,*.token,*.secret,*.apiKey,*.accessToken,*.refreshToken,requestBody.password,requestBody.token,requestBody.secret,responseBody.password,responseBody.token,responseBody.secret"

# Cache TTLs (in seconds)
CACHE_TTL_PRODUCT_DETAIL="300"      # 5 minutes - single product cache
CACHE_TTL_PRODUCT_LIST="60"         # 1 minute - product list cache
CACHE_TTL_REPORT_SUMMARY="300"      # 5 minutes - sales summary reports
CACHE_TTL_REPORT_TREND="600"        # 10 minutes - trend analytics
CACHE_TTL_REPORT_HEATMAP="900"      # 15 minutes - hourly heatmap (changes slowly)
CACHE_TTL_REPORT_TOP_PRODUCTS="300" # 5 minutes - top products report

# Prometheus Metrics
METRICS_ENABLED="true"              # Enable/disable /metrics endpoint

# Loki Log Aggregation
LOKI_ENABLED="false"                # Enable/disable Loki log shipping
LOKI_URL="http://loki:3100"         # Loki push API endpoint
LOKI_BATCH_SIZE="10"                # Number of log entries to batch before sending
LOKI_BATCH_INTERVAL="5000"          # Milliseconds between batch sends
